<!doctype html><html><meta charset="UTF-8">
<head>
<meta name="description" content="FMC.guru (FantomMarketCap) by FTM.guru : Fantom Opera blockchain token prices, markets, DEX listings, Market Cap, Live Trading Data, List of Liquidity Aggregators, Yield COmpounders and more!">
<meta name="keywords" content="Fantom Opera, List, Dashboard, Tracker, Explorer, FTM, Decentralized Finance, ELITE, 1337, defi, farming, FTM1337">
<title>vlSEX - Solidex Voter Analysis | FTM.guru</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="img/FMC.svg" />
<style>
@font-face{font-family:bold;src: url(https://ftm.guru/font/bold.ttf);}
@font-face{ font-family:italic;src: url(https://ftm.guru/font/italic.ttf);}
@font-face{ font-family:light;src: url(https://ftm.guru/font/light.ttf);}
@font-face{ font-family:light_italic;src: url(https://ftm.guru/font/light_italic.ttf);}
@font-face{ font-family:regular;src: url(https://ftm.guru/font/regular.ttf);}
@font-face{ font-family:regular_italic;src: url(https://ftm.guru/font/regular_italic.ttf);}
*{font-family:regular;}
svg text {font-size: 4px !important;}

html{background:radial-gradient(circle at bottom, #125, #122, #100);background-attachment: fixed;}
.mainpanel,.mainstage{background: rgba(15,15,31,0.5);}
*{text-shadow:6px 6px 5px black;color:#e3e9f2}
.lowerbar{
  font-size: 1.25em;
  font-weight: bolder;
}
.lowerbar a{
  font-size: 0.75em;
  font-weight: lighter;
  padding: 10px 10px 10px 0px;
  color:#32fbe2;
  text-decoration: none
}
.lowerbar img{width:24px}
.lowerbar .subimg{width:16px;height:16px;position: relative;right:9px;top:4px;margin-right:-11px}
.toprow{display:grid;grid-template-columns:max-content auto max-content}
.toprow a{text-decoration:none}
.car{max-width: 90%;padding:15px;box-shadow: rgba(0,255,255,0.2) 0px 0px 10px 10px;background: #090919;margin:5%;border-radius: 15px;border:aqua 2px solid;}
table{text-align:right}
thead td{font-family:bold}
td{padding: 2px 5px}
@media(min-width:641px){
	.hhr{width: 555px}
	#htc,.car{height: 70vh;width: 80vw;margin: auto;padding: 0}
	svg text {font-size: 2px !important;}
	svg polyline#pl_t_f {stroke-width: 0.25;}
}
</style>
</head>
<body>

<div class="toprow" style="font-weight:bolder">
	<div><a href="index.html"><img style="position:relative;top:2px" src="https://ftm.guru/icons/FMC.svg" width="16px"> Solidly Analytics</a></div>
	<div></div>
	<div>By <a href="https://ftm.guru">FTM.guru</a></div>
</div>

<h1 align="center">vls Voting: Weekly Weights</h1>
<br><br>
<div align="center">
	<input id="pooladdr" value="0xb0d9b878edece2019d4c57bd34c6f8c169c860f2" style="background:#000;color:#fff;border-radius:25px;width:50%" onchange="weeklyvotes()" oninput="this.onchange"><br><br>
	<div class="car" >
		<svg id="htc" viewbox="0 0 100 100" preserveAspectRatio="none">
			<polyline stroke-width="0.25" points="0 5, 100 5" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>
			<polyline stroke-width="0.25" points="0 20, 100 20" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>
			<polyline stroke-width="0.25" points="0 35, 100 35" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>
			<polyline stroke-width="0.25" points="0 50, 100 50" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>
			<polyline stroke-width="0.25" points="0 65, 100 65" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>
			<polyline stroke-width="0.25" points="0 80, 100 80" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>

			<polyline stroke-width="0.25" points="10 0, 10 100" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>
			<polyline stroke-width="0.25" points="30 0, 30 100" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>
			<polyline stroke-width="0.25" points="50 0, 50 100" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>
			<polyline stroke-width="0.25" points="70 0, 70 100" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>
			<polyline stroke-width="0.25" points="90 0, 90 100" fill="none" stroke="grey" stroke-opacity="0.25"></polyline>
			<defs>
    			<linearGradient id="gf" gradientTransform="rotate(90)">
      				<stop stop-color="rgba(0,255,255,1)" offset="0%"></stop>
      				<stop stop-color="rgba(0,155,155,0)" offset="100%"></stop>
    			</linearGradient>
    			<linearGradient id="gu" gradientTransform="rotate(90)">
      				<stop stop-color="rgba(0,255,127,1)" offset="0%"></stop>
      				<stop stop-color="rgba(0,255,127,0)" offset="100%"></stop>
    			</linearGradient>
  			</defs>
			<polyline id="pl_t_f" fill-opacity="0.67" style="stroke-width: 1px;" points="12 23, 42 73, 55 22" fill="url(#gf)" stroke="aqua" stroke-opacity="1"></polyline>
			<!--
				<polyline id="pl_t_u" fill-opacity="0.67" stroke-width="1.0" points="82 53, 62 93, 5 12" fill="url(#gu)" stroke="#1f7" stroke-opacity="1"></polyline>
			-->
			<text style="font-size:2px" fill="#fff" id="ctv1" x="1" y="5">175k</text>
			<text style="font-size:2px" fill="#fff" id="ctv2" x="1" y="20">150k</text>
			<text style="font-size:2px" fill="#fff" id="ctv3" x="1" y="35">125k</text>
			<text style="font-size:2px" fill="#fff" id="ctv4" x="1" y="50">100k</text>
			<text style="font-size:2px" fill="#fff" id="ctv5" x="1" y="65">75k</text>
			<text style="font-size:2px" fill="#fff" id="ctv6" x="1" y="80">50k</text>
			<!--<text style="font-size:2px" fill="#fff" id="ctv7" x="1" y="95">25k</text>-->

			<text style="font-size:2px" fill="#fff" id="ctl1" x="05" y="98">30 Jun</text>
			<text style="font-size:2px" fill="#fff" id="ctl2" x="25" y="98">17 Jul</text>
			<text style="font-size:2px" fill="#fff" id="ctl3" x="45" y="98">3 Jul</text>
			<text style="font-size:2px" fill="#fff" id="ctl4" x="65" y="98">13 Jun</text>
			<text style="font-size:2px" fill="#fff" id="ctl5" x="85" y="98">13 Jun</text>


			<!--
				<polyline id="pl_t_f_l" stroke-dasharray="2" stroke-width="0.04" points="0 35, 100 35" fill="none" stroke="aqua"></polyline>
				<polyline id="pl_t_u_l" stroke-dasharray="2" stroke-dashoffset="2" stroke-width="0.04" fill="none" stroke="#1f7" points="0 25, 100 25"></polyline>
			-->
		</svg>
	</div>
</div>
<div align="center">
	<h2 id="patitle"></h2>
	<br>
	<h3>Weekly Breakdown</h>
	<table>
		<thead>
			<tr>
				<td onclick="sortit(0,'mainstage')">â›“
				<td onclick="sortit(1,'mainstage')">vlSEX Votes#
				<td onclick="sortit(2,'mainstage')">Start of Epoch</td>
			</tr>
		</thead>
		<tbody id="wklhst"></tbody>
	</table>
</body>


<script src="https://ftm.guru/ethers-5.2.umd.min.js"></script>
<script>

function $(_) {return document.getElementById(_);}
window.addEventListener('load',async function()
{
	provider = new ethers.providers.JsonRpcProvider("https://rpc.ftm.tools");
	weeklyvotes()
}, false);

async function weeklyvotes()
{
	vlv = new ethers.Contract("0xca082181C4f4a811bed68Ab61De6aDCe11158948",[{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"poolVotes","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getWeek","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],provider)
	weeks = await vlv.getWeek()
	alltime = []
	pa = $("pooladdr").value
	PA = new ethers.Contract(pa,[{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}],provider)
	PA.symbol().then(smb=>{$("patitle").innerHTML=smb})
	for(i=0;i< Number(weeks)+1;i++){alltime[i] = vlv.poolVotes(pa,i)}
	Promise.all(alltime).then(wd=>{
		d2p = []
		for(i=0;i< wd.length;i++)
		{
			d2p[i] = [1645675200000 + i*86400*7*1000 , Number(wd[i])] ;
			$("wklhst").innerHTML+=`<tr><td>${i+1}.</td><td>${Number(wd[i]).toLocaleString()}</td><td>${(new Date(1645675200000 + i*86400*7*1000)).toLocaleDateString()}</td></tr>`
		}
		f2(d2p)
		console.log(d2p,wd)
	})

}
async function f2log(d)
{
	console.log("f2",d)
	t_0 = d[0][0]
	t_n = d[d.length-1][0]
	t_l = t_n - t_0

	vmax = 0;vmxt=0;vmin = d[0][1];vmnt=0
	for(i=0;i< d.length;i++) {	if(d[i][1]>vmax){vmax=d[i][1];vmxt=d[i][0]}	}
	for(i=0;i< d.length;i++) {	if(vmin>d[i][1]){vmin=d[i][1];vmnt=d[i][0]}	}
	vmax = Math.log10(vmax)
	vmin= vmin==0?0: Math.log10(vmin)
	vm2m = vmax-vmin


	p = []
	for(i=0;i< d.length;i++)
	{
		p[i] = [0,0]
		p[i][0]	=	(d[i][0]-t_0)/t_l*100;
		_pi1 = isFinite(Math.log10(d[i][1])) ? Math.log10(d[i][1]) : vmin
		p[i][1]	=	(_pi1-vmin)/vm2m*100;
	}
	console.log("p",p)

	var fline= document.getElementById('pl_t_f');

  	var fpoints = fline.getAttribute('points');

	fpoints=`-100 100,`;

	for(i=0;i< p.length;i++)
	{
		//fpoints+=i==0?`${-10} ${100-p[i][1]},`:``
		fpoints+=`${p[i][0]} ${100-p[i][1]},`;
		//fpoints+=i== p.length-1?`${200} ${100-p[i][1]}`:``
	}
	fpoints+=`200 100`;

	fline.setAttribute('points', fpoints );
	console.log('points', fpoints.replaceAll(",","\n") );



	//date
	//dstr = (tm) => {dt0=new Date(tf+tl*tm); return ((Zdt0.getDate()+1)+"."+(dt0.getUTCMonth()+1)+"."+dt0.getUTCYear())}
	$("ctl1").innerHTML = (new Date(t_0+t_l*.1)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl2").innerHTML = (new Date(t_0+t_l*.3)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl3").innerHTML = (new Date(t_0+t_l*.5)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl4").innerHTML = (new Date(t_0+t_l*.7)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl5").innerHTML = (new Date(t_0+t_l*.9)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctv1").innerHTML = 10**(vmax-vm2m*0.05).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
	$("ctv2").innerHTML = 10**(vmax-vm2m*0.20).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
	$("ctv3").innerHTML = 10**(vmax-vm2m*0.35).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
	$("ctv4").innerHTML = 10**(vmax-vm2m*0.50).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
	$("ctv5").innerHTML = 10**(vmax-vm2m*0.65).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
	$("ctv6").innerHTML = 10**(vmax-vm2m*0.80).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
//	$("ctv7").innerHTML = 10**(vmax-vm2m*0.95).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})



	/*
	trd = d
	store = d
	ti=trd[d.length-1][0];
	tf=trd[0][0];
	tl=ti-tf;
	trd2=trd;
	vmax=0;
	for(i=0;i< store.length;i++)
	{
		if(trd[i][1]>vmax){vmax=trd[i][1]}
		///if(trd[i][1]*trd[i][2]>vmax){vmax=trd[i][1]*trd[i][2]}
	}
	for(i=0;i< store.length;i++)
	{
		trd2[i][0]=(trd[i][0]-tf)/tl*100;
		trd2[i][1]=trd[i][1]/vmax*100;
		///trd2[i][2]=store[i][1]*store[i][2];
	}
	var fline= document.getElementById('pl_t_f');
	///var uline= document.getElementById('pl_t_u');
  	var fpoints = fline.getAttribute('points');
  	///var upoints = uline.getAttribute('points');
	///fpoints ="-1010 99,"
	///upoints ="-1010 99,"
	for(i= trd.length-1;i>-1;i--)
	{
		fpoints+=`${trd2[i][0]} ${100-trd2[i][1]},`;
		///upoints+=`${trd2[i][0]} ${100-trd2[i][2]},`;
	}
	///fpoints+="1010,101"
	///upoints+="1010,101"
	fline.setAttribute('points', fpoints );
	/*
	///uline.setAttribute('points', upoints );
	//da
	///$("pl_t_f_l").setAttribute('points',`0 ${100-trd2[0][1]}, 100 ${100-trd2[0][1]}`);
	///$("pl_t_u_l").setAttribute('points',`0 ${100-trd2[0][2]}, 100 ${100-trd2[0][2]}`);
	//date
	//dstr = (tm) => {dt0=new Date(tf+tl*tm); return ((Zdt0.getDate()+1)+"."+(dt0.getUTCMonth()+1)+"."+dt0.getUTCYear())}
	$("ctl1").innerHTML = (new Date(tf+tl*.1)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl2").innerHTML = (new Date(tf+tl*.3)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl3").innerHTML = (new Date(tf+tl*.5)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl4").innerHTML = (new Date(tf+tl*.7)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl5").innerHTML = (new Date(tf+tl*.9)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctv1").innerHTML = (vmax/1000*0.95).toFixed(0)+"k";
	$("ctv2").innerHTML = (vmax/1000*0.80).toFixed(0)+"k";
	$("ctv3").innerHTML = (vmax/1000*0.65).toFixed(0)+"k";
	$("ctv4").innerHTML = (vmax/1000*0.50).toFixed(0)+"k";
	$("ctv5").innerHTML = (vmax/1000*0.35).toFixed(0)+"k";
	$("ctv6").innerHTML = (vmax/1000*0.20).toFixed(0)+"k";
//	$("ctv7").innerHTML = (vmax/1000*0.05).toFixed(0)+"k";
	*/
}
async function f2(d)
{
	console.log("f2",d)
	t_0 = d[0][0]
	t_n = d[d.length-1][0]
	t_l = t_n - t_0

	vmax = 0;vmxt=0;vmin = d[0][1];vmnt=0
	for(i=0;i< d.length;i++) {	if(d[i][1]>vmax){vmax=d[i][1];vmxt=d[i][0]}	}
	for(i=0;i< d.length;i++) {	if(vmin>d[i][1]){vmin=d[i][1];vmnt=d[i][0]}	}
	vm2m = vmax-vmin


	p = []
	for(i=0;i< d.length;i++)
	{
		p[i] = [0,0]
		p[i][0]	=	(d[i][0]-t_0)/t_l*100;
		p[i][1]	=	(d[i][1]-vmin)/vm2m*100;
	}
	console.log("p",p)

	var fline= document.getElementById('pl_t_f');

  	var fpoints = fline.getAttribute('points');

	fpoints=`-100 100,`;

	for(i=0;i< p.length;i++)
	{
		//fpoints+=i==0?`${-10} ${100-p[i][1]},`:``
		fpoints+=`${p[i][0]} ${100-p[i][1]},`;
		//fpoints+=i== p.length-1?`${200} ${100-p[i][1]}`:``
	}
	fpoints+=`200 100`;

	fline.setAttribute('points', fpoints );
	console.log('points', fpoints.replaceAll(",","\n") );



	//date
	//dstr = (tm) => {dt0=new Date(tf+tl*tm); return ((Zdt0.getDate()+1)+"."+(dt0.getUTCMonth()+1)+"."+dt0.getUTCYear())}
	$("ctl1").innerHTML = (new Date(t_0+t_l*.1)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl2").innerHTML = (new Date(t_0+t_l*.3)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl3").innerHTML = (new Date(t_0+t_l*.5)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl4").innerHTML = (new Date(t_0+t_l*.7)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl5").innerHTML = (new Date(t_0+t_l*.9)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctv1").innerHTML = (vmax-vm2m*0.05).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
	$("ctv2").innerHTML = (vmax-vm2m*0.20).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
	$("ctv3").innerHTML = (vmax-vm2m*0.35).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
	$("ctv4").innerHTML = (vmax-vm2m*0.50).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
	$("ctv5").innerHTML = (vmax-vm2m*0.65).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
	$("ctv6").innerHTML = (vmax-vm2m*0.80).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})
//	$("ctv7").innerHTML = (vmax-vm2m*0.95).toLocaleString(undefined,{minimumFractionDigits: 0, maximumFractionDigits: 0})



	/*
	trd = d
	store = d
	ti=trd[d.length-1][0];
	tf=trd[0][0];
	tl=ti-tf;
	trd2=trd;
	vmax=0;
	for(i=0;i< store.length;i++)
	{
		if(trd[i][1]>vmax){vmax=trd[i][1]}
		///if(trd[i][1]*trd[i][2]>vmax){vmax=trd[i][1]*trd[i][2]}
	}
	for(i=0;i< store.length;i++)
	{
		trd2[i][0]=(trd[i][0]-tf)/tl*100;
		trd2[i][1]=trd[i][1]/vmax*100;
		///trd2[i][2]=store[i][1]*store[i][2];
	}
	var fline= document.getElementById('pl_t_f');
	///var uline= document.getElementById('pl_t_u');
  	var fpoints = fline.getAttribute('points');
  	///var upoints = uline.getAttribute('points');
	///fpoints ="-1010 99,"
	///upoints ="-1010 99,"
	for(i= trd.length-1;i>-1;i--)
	{
		fpoints+=`${trd2[i][0]} ${100-trd2[i][1]},`;
		///upoints+=`${trd2[i][0]} ${100-trd2[i][2]},`;
	}
	///fpoints+="1010,101"
	///upoints+="1010,101"
	fline.setAttribute('points', fpoints );
	/*
	///uline.setAttribute('points', upoints );
	//da
	///$("pl_t_f_l").setAttribute('points',`0 ${100-trd2[0][1]}, 100 ${100-trd2[0][1]}`);
	///$("pl_t_u_l").setAttribute('points',`0 ${100-trd2[0][2]}, 100 ${100-trd2[0][2]}`);
	//date
	//dstr = (tm) => {dt0=new Date(tf+tl*tm); return ((Zdt0.getDate()+1)+"."+(dt0.getUTCMonth()+1)+"."+dt0.getUTCYear())}
	$("ctl1").innerHTML = (new Date(tf+tl*.1)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl2").innerHTML = (new Date(tf+tl*.3)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl3").innerHTML = (new Date(tf+tl*.5)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl4").innerHTML = (new Date(tf+tl*.7)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctl5").innerHTML = (new Date(tf+tl*.9)).toDateString().substr(4).replace(" ","-").split(" ")[0];
	$("ctv1").innerHTML = (vmax/1000*0.95).toFixed(0)+"k";
	$("ctv2").innerHTML = (vmax/1000*0.80).toFixed(0)+"k";
	$("ctv3").innerHTML = (vmax/1000*0.65).toFixed(0)+"k";
	$("ctv4").innerHTML = (vmax/1000*0.50).toFixed(0)+"k";
	$("ctv5").innerHTML = (vmax/1000*0.35).toFixed(0)+"k";
	$("ctv6").innerHTML = (vmax/1000*0.20).toFixed(0)+"k";
//	$("ctv7").innerHTML = (vmax/1000*0.05).toFixed(0)+"k";
	*/
}

function sortit(n) {
  var t, r, z, i, x, y, v, b, c = 0;
  t = document.getElementById("maintable").getElementsByTagName("tbody")[0];
  z = true;
  b = "a";
  while (z) {
    z = false;
    r = t.rows;
    for (i = 0; i < (r.length - 1); i++) {
      v = false;
      x = (r[i].getElementsByTagName("TD")[n].textContent)//.replace(/,| |\.|\$|%/g,'');
      if(isFinite(x)){x=Number(x)}else{x=x.toLowerCase()}
      y = (r[i + 1].getElementsByTagName("TD")[n].textContent)//.replace(/,| |\.|\$|%/g,'');
      if(isFinite(y)){y=Number(y)}else{y=y.toLowerCase()}
      if (b == "a") {
        if ((x) > (y)) {
          v= true;
          break;
        }
      } else if (b == "d") {
        if ((x) < (y)) {
          v = true;
          break;
        }
      }
    }
    if (v) {
      r[i].parentNode.insertBefore(r[i + 1], r[i]);
      z = true;
      c ++;
    } else {
      if (c == 0 && b == "a") {
        b = "d";
        z = true;
      }
    }
  }
    var t, r, z, i, x, y, v, b, c = 0;
}


</script>
</html>

