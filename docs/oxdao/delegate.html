<!doctype html><html><meta charset="UTF-8">
<head>
<title>0xDAO Vote Delegation to FTM.Guru</title>
<meta name="description" content="0xDAO Delegated Voting. Powered by the Guru Network.">
<meta name="keywords" content="Fantom Opera, DEX, Solidly, 0xDAO, OxDAO, Vote, Bribe, Delegate, FTM, Decentralized Finance, ELITE, 1337, defi, farming, FTM1337">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<link rel="shortcut icon" href="https://ftm.guru/img/64.png" />
<style>
@font-face{font-family:bold;src: url(https://ftm.guru/font/bold.ttf);}
@font-face{ font-family:italic;src: url(https://ftm.guru/font/italic.ttf);}
@font-face{ font-family:light;src: url(https://ftm.guru/font/light.ttf);}
@font-face{ font-family:light_italic;src: url(https://ftm.guru/font/light_italic.ttf);}
@font-face{ font-family:regular;src: url(https://ftm.guru/font/regular.ttf);}
@font-face{ font-family:regular_italic;src: url(https://ftm.guru/font/regular_italic.ttf);}
* {
  scroll-behavior: smooth !important;
  font-family:regular;
  transition: 0.25s;
  word-break: break-all;
}
html{
  color:white;
  background-color: #ff9d00;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1600 800'%3E%3Cg stroke='%23000' stroke-width='66.7' stroke-opacity='0.05' %3E%3Ccircle fill='%23ff9d00' cx='0' cy='0' r='1800'/%3E%3Ccircle fill='%23fb8d17' cx='0' cy='0' r='1700'/%3E%3Ccircle fill='%23f47d24' cx='0' cy='0' r='1600'/%3E%3Ccircle fill='%23ed6e2d' cx='0' cy='0' r='1500'/%3E%3Ccircle fill='%23e35f34' cx='0' cy='0' r='1400'/%3E%3Ccircle fill='%23d85239' cx='0' cy='0' r='1300'/%3E%3Ccircle fill='%23cc453e' cx='0' cy='0' r='1200'/%3E%3Ccircle fill='%23be3941' cx='0' cy='0' r='1100'/%3E%3Ccircle fill='%23b02f43' cx='0' cy='0' r='1000'/%3E%3Ccircle fill='%23a02644' cx='0' cy='0' r='900'/%3E%3Ccircle fill='%23901e44' cx='0' cy='0' r='800'/%3E%3Ccircle fill='%23801843' cx='0' cy='0' r='700'/%3E%3Ccircle fill='%236f1341' cx='0' cy='0' r='600'/%3E%3Ccircle fill='%235e0f3d' cx='0' cy='0' r='500'/%3E%3Ccircle fill='%234e0c38' cx='0' cy='0' r='400'/%3E%3Ccircle fill='%233e0933' cx='0' cy='0' r='300'/%3E%3Ccircle fill='%232e062c' cx='0' cy='0' r='200'/%3E%3Ccircle fill='%23210024' cx='0' cy='0' r='100'/%3E%3C/g%3E%3C/svg%3E");
  background-attachment: fixed;
  background-size: cover;
}
.hhr{
  color: transparent;
  border: none;
  border-top: 8px dotted bisque;
  max-width: 50%;
  margin:5%
}
#paneld{display:none}
.icons20 img{height: 20px }

button{box-shadow: 0px 0px 3px 3px rgba(0,255,255,0.5);color:white;background:purple;padding:2px 5px;border-radius: 10px;font-size: 1.2em}
button:hover{transform: translateY(-5px);}
</style>

<body>
<div align="center">

	<h1>Delegate 0xDAO Votes</h1>

	<h2>Instructions</h2>
	To continue earning bribes from ftm.guru, please complete these 2 transactions after connecting your wallet:<br>
	<br>1. Delegate Voting Power
	<br>2. Register your Delegation
	<br><br>
	<i>(Note: Self-Registrations begin from 1st August. All previous delegators will be auto-registered.)</i>

<hr class="hhr">

	<div>
		<span id="cw_m"></span>
		<div id="connect">
			Please connect your web3 wallet.
			<br><br>
			<button onclick="cw()" id="btn-connect">Connect</button>
		</div>
		<div id="switch">
			<b id="btn-switch" onclick="cw()">
				<span id="cw"></span>
			</b>
		</div>
	</div>


	<div id="panel">
		<h2>Step-1</h2>
		<button id="step1" onclick="step1()">Delegate</button>

		<h2>Step-2</h2>
		<button id="step2" onclick="step2()">Register</button>
	</div>

	<div id="paneld">You have registered Successfully</div>

	<hr class="hhr">


	<div>
		<br><br><b>Your Address:</b><br><span id="us">Unknown</span>
		<br><br><b>Your 0xDAO Account:</b><br><span id="ua">Undefined</span>
		<br><br><b>Your Delegate:</b><br><span id="ud">Nobody</span>
		<br><br><b>Your Registration:</b><br><span id="ur">Pending</span>
		<br><br>
		<br><br><b>Your Vote-Weight:</b><br><span id="uw">Zero</span>
		<br><br><b>Your Unused Power:</b><br><span id="uu">Zero</span>
		<br><br><b>Your Current Votes:</b><br><span id="uv">Zero</span>

	</div>

	<hr class="hhr">

	<h2>All our Delegators</h2>
	(Registrations begin next week. This week's delegators will be auto-registered.)


	<hr class="hhr">


	<h2>What *is* this??</h2>
	We bribe all vlOXD voters (A user who locks their OXD tokens at oxdao.fi) for giving us (Guru Network DAO) their voting powers in return of weekly rewards airdropped directly to their wallets. We then utilize these delegated voting rights to direct Solidly (Premium DEX on Fantom) emissions to the pools we deem most important. We started this trend of L2-bribes back in April '22 and look forward to continuing it in the foreseeable future.


	<br><br><br><br><b>Have more questions?</b>
	<br>Come over to our friendly Discord!<br>
	<div class="icons20">
		<a href="https://discord.gg/QpyfMarNrV" target="_blank"><img src="https://ftm.guru/icons/discord.svg"></a>
		<a href="https://twitter.com/ftm1337" target="_blank"><img src="https://ftm.guru/icons/twitter.svg"></a>
		<a href="https://t.me/ftm1337" target="_blank"><img src="https://ftm.guru/icons/telegram.svg"></a>
	</div>
	<br><br>





</div>
</body>






<script src="https://ftm.guru/ethers-5.2.umd.min.js"></script>

<script>


CHAINID = 250;
RPC_URL = "https://rpc.ftm.tools"
EXPLORE = "https://ftmscan.com/address/";
GURUDAO = "0x167d87a906da361a10061fe42bbe89451c2ee584"

function $(_) {return document.getElementById(_);}
let provider= {};
let signer= {};
window.addEventListener('load',async function()
{
	console.log("waitin for 3 secs..");
	$("cw_m").innerHTML = "Connecting.. Please wait."
	setTimeout(async () => { await basetrip(); basecheck() }, 3000);
}, false);

async function basetrip()
{
	if(!(window.ethereum)){$("cw_m").innerHTML = "Wallet wasn't detected!";console.log("Wallet wasn't detected!");provider = new ethers.providers.JsonRpcProvider(RPC_URL);return}
	else if(!Number(window.ethereum.chainId)==CHAINID){$("cw_m").innerHTML = "Wrong network! Please Switch to "+CHAINID;provider = new ethers.providers.Web3Provider(window.ethereum);return}
	else if(//typeOf window.ethereum == Object &&Number(window.ethereum.chainId)
		Number(window.ethereum.chainId)==CHAINID)
	{
		console.log("Recognized Ethereum Chain:", window.ethereum.chainId,CHAINID);
		provider = new ethers.providers.Web3Provider(window.ethereum)
		signer = provider.getSigner();
		if(!(window.ethereum.selectedAddress==null)){console.log("Found old wallet:", window.ethereum.selectedAddress);cw();}
		else{console.log("Didnt find a connected wallet!");cw();}
		//chkAppr(tokes[1][0])
	}
	else //if(Number(window.ethereum.chainId)==CHAINID)
	{
		console.log("Couldn't find Ethereum Provider - ",CHAINID,window.ethereum.chainId)
		if((typeof Number(window.ethereum.chainId) == "number")){$("cw_m").innerHTML = "Wrong network! Switch from " + Number(window.ethereum.chainId)+" to "+CHAINID}
		provider = new ethers.providers.JsonRpcProvider(RPC_URL);
		signer = provider.getSigner()
		$("connect").innerHTML=`Wallet not found.<br><br><button onclick="window.location.reload()" id="btn-connect">Retry?</button>`;
	}
	if(Number(window.ethereum.chainId) != null &&(window.ethereum.chainId!=CHAINID))
	{
		await window.ethereum.request({
    		method: "wallet_addEthereumChain",
    		params: [{
        		chainId: "0x"+(CHAINID).toString(16),
        		rpcUrls: [RPC_URL],
        		chainName: RPC_URL.split(".")[1],
        		nativeCurrency: {
            		name: RPC_URL.split(".")[1],
            		symbol: RPC_URL.split(".")[1],
            		decimals: 18
        		},
        		blockExplorerUrls: [EXPLORE.split("/address")[0]]
    		}]
		});
		window.location.reload
	}
	//DrefreshFarm()
	//arf()
}



/*
function fornum(n,d)
{
	_n=(Number(n)/10**Number(d));
	n_=_n;
	if(_n>1e18){n_=(_n/1e18).toFixed(2)+" Qt."}
	else if(_n>1e15){n_=(_n/1e15).toFixed(2)+" Qd."}
	else if(_n>1e12){n_=(_n/1e12).toFixed(2)+" Tn."}
	else if(_n>1e9){n_=(_n/1e9).toFixed(2)+" Bn."}
	else if(_n>1e6){n_=(_n/1e6).toFixed(2)+" Mn."}
	else if(_n>1e3){n_=(_n/1e3).toFixed(2)+" Th."}
	else if(_n>0){n_=(_n/1e0).toFixed(5)+""}
	return(n_);
}
*/
function fornum(n,d)
{
	_n=(Number(n)/10**Number(d));
	n_=_n;
	if(_n>1e18){n_=(_n/1e18).toFixed(3)+"Qt"}
	else if(_n>1e15){n_=(_n/1e15).toFixed(3)+"Qd"}
	else if(_n>1e12){n_=(_n/1e12).toFixed(3)+"T"}
	else if(_n>1e9){n_=(_n/1e9).toFixed(3)+"B"}
	else if(_n>1e6){n_=(_n/1e6).toFixed(3)+"M"}
	else if(_n>1e3){n_=(_n/1e3).toFixed(3)+"K"}
	else if(_n>1e1){n_=(_n/1e0).toFixed(5)+""}
	else if(_n>0.0){n_=(_n/1e0).toFixed(8)+""}
	return(n_);
}
ab1=
[
	{
	"constant": true,
	"inputs": [
		{
		"internalType": "address",
		"name": "",
		"type": "address"
		},
		{
		"internalType": "address",
		"name": "",
		"type": "address"
		}
	],
	"name": "allowance",
	"outputs": [
		{
		"internalType": "uint256",
		"name": "",
		"type": "uint256"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": false,
	"inputs": [
		{
		"internalType": "address",
		"name": "spender",
		"type": "address"
		},
		{
		"internalType": "uint256",
		"name": "value",
		"type": "uint256"
		}
	],
	"name": "approve",
	"outputs": [
		{
		"internalType": "bool",
		"name": "",
		"type": "bool"
		}
	],
	"payable": false,
	"stateMutability": "nonpayable",
	"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "guy",
				"type": "address"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},
	{
	"constant": true,
	"inputs": [
		{
		"internalType": "address",
		"name": "",
		"type": "address"
		}
	],
	"name": "balanceOf",
	"outputs": [
		{
		"internalType": "uint256",
		"name": "",
		"type": "uint256"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": true,
	"inputs": [],
	"name": "decimals",
	"outputs": [
		{
		"internalType": "uint8",
		"name": "",
		"type": "uint8"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": true,
	"inputs": [],
	"name": "factory",
	"outputs": [
		{
		"internalType": "address",
		"name": "",
		"type": "address"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": true,
	"inputs": [],
	"name": "getReserves",
	"outputs": [
		{
		"internalType": "uint112",
		"name": "_reserve0",
		"type": "uint112"
		},
		{
		"internalType": "uint112",
		"name": "_reserve1",
		"type": "uint112"
		},
		{
		"internalType": "uint32",
		"name": "_blockTimestampLast",
		"type": "uint32"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": false,
	"inputs": [
		{
		"internalType": "address",
		"name": "_token0",
		"type": "address"
		},
		{
		"internalType": "address",
		"name": "_token1",
		"type": "address"
		}
	],
	"name": "initialize",
	"outputs": [],
	"payable": false,
	"stateMutability": "nonpayable",
	"type": "function"
	},
	{
	"constant": true,
	"inputs": [],
	"name": "symbol",
	"outputs": [
		{
		"internalType": "string",
		"name": "",
		"type": "string"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": true,
	"inputs": [],
	"name": "name",
	"outputs": [
		{
		"internalType": "string",
		"name": "",
		"type": "string"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
];

abia = [
{
	"constant": false,
	"inputs": [
		{
		"internalType": "address",
		"name": "spender",
		"type": "address"
		},
		{
		"internalType": "uint256",
		"name": "value",
		"type": "uint256"
		}
	],
	"name": "approve",
	"outputs": [
		{
		"internalType": "bool",
		"name": "",
		"type": "bool"
		}
	],
	"payable": false,
	"stateMutability": "nonpayable",
	"type": "function"
	}
]
async function cw()
{
	let cs = await cw2(); cs?console.log("Good to Transact"):cw2()
}
async function cw2()
{
	if(!(window.ethereum)){$("cw_m").innerHTML="Metamask not detected! Trying a refresh";console.log("Metamask not found!");window.location.reload();return(0)}
	if(!(Number(window.ethereum.chainId)==CHAINID)){$("cw_m").innerHTML="Wrong network detected! Please switch to chain ID", CHAINID, "and refresh this page.";return(0)}
	if(typeof provider == "undefined"){$("cw_m").innerHTML="Provider not detected! Trying a refresh";console.log("Provider not found!");window.location.reload();return(0)}
	/*
	if(!
		(isFinite(Number(accounts[0])))
		|| (isFinite(Number(window.ethereum.selectedAddress)))
	){console.log("NAAAAAAAAAAAAAAAAA");window.location.reload();}
	*/

	//004
	window.ethereum
	.request({ method: 'eth_requestAccounts' })
	.then(r=>{console.log("004: Success:",r);})	//re-curse to end curse, maybe..
	.catch((error) => {	console.error("004 - Failure", r, error); });


	//005
	const accounts = await window.ethereum.request({ method: 'eth_accounts' });
	if(Number(accounts[0])>0){console.log("005: Success - ", accounts)}
	else{console.log("005: Failure", accounts)}


	/*006
	const en6 = await window.ethereum.enable()
	if(Number(en6[0]) > 0){console.log("006 - Success",en6)}
	else{console.log("006 - Failure", en6)}
	*/


	/*003
	try {
      console.log("attempting cw()")
      const addresses = await provider.request({ method: "eth_requestAccounts" });
      console.log("addresses:",addresses)
    } catch (e) {
      console.log("error in request", e);
      window.location.reload(true);
    }
    */

    //002
    //try{await provider.send("eth_requestAccounts", []);console.log("CWE:",e);}//await window.ethereum.enable();
	//catch(e){console.log("CWE:",e);window.location.reload(true)}
	console.log("doing the paints")
	$("cw").innerHTML= "â˜‘ " + (window.ethereum.selectedAddress).substr(0,10) +"..."+(window.ethereum.selectedAddress).substr(34);
	$("cw_m").innerHTML=""
	$("connect").style.display="none";
	$("switch").style.display="block";
	//farm_1_f_chappro()
	//gubs();
	return(1);
}
function fornum2(n,d)
{
	_n=(Number(n)/10**Number(d));
	n_=_n;
	if(_n>1e18){n_=(_n/1e18).toFixed(2)+" Quintillion"}
	else if(_n>1e15){n_=(_n/1e15).toFixed(2)+" Quadrillion"}
	else if(_n>1e12){n_=(_n/1e12).toFixed(2)+" Trillion"}
	else if(_n>1e9){n_=(_n/1e9).toFixed(2)+" Billion"}
	else if(_n>1e6){n_=(_n/1e6).toFixed(2)+" Million"}
	else if(_n>1e3){n_=(_n/1e3).toFixed(2)+" Thousand"}
	else if(_n>1){n_=(_n/1e0).toFixed(8)+""}
	return(n_);
}
















/*
VotingSnapshot
	0xda007a39a692b0fefe9c6cb1a185feab2722c4fd	:	0x5ff197cbcb1c1562d2695bb195d7d8d08b765672
	{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"voteDelegateByAccount","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"accountAddress","type":"address"}],"name":"voteWeightAvailableByAccount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"accountAddress","type":"address"}],"name":"voteWeightTotalByAccount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"voteWeightUsedByAccount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}
	31. voteDelegateByAccount <input> (address)
	31. voteWeightUsedByAccount <input> (address)
	31. voteWeightTotalByAccount <input> (address)
	31. voteWeightAvailableByAccount <input> (address)
    function voteDelegateByAccount(address) external view returns (address);
    function votesByAccount(address) external view returns (Vote[] memory);
    function voteWeightTotalByAccount(address) external view returns (uint256);
    function voteWeightUsedByAccount(address) external view returns (uint256);

UserProxyInterface
	0xda00bff59141ca6375c4ae488da7b387960b4f10	:	0xd2f585c41cca33dce5227c8df6adf604085690c2
	{"inputs":[{"internalType":"address","name":"accountAddress","type":"address"}],"name":"setVoteDelegate","outputs":[],"stateMutability":"nonpayable","type":"function"}
	function setVoteDelegate(address) external;
	function clearVoteDelegate() external;
	function voteDelegateByAccount(address) external view returns (address);



0xDAOProxy
	https://ftmscan.com/address/0xda00aad945d0d5f1b1b3fbb6e0ce3e36827a7bf5#readProxyContract

	0x167d87a906da361a10061fe42bbe89451c2ee584	0x8a996d911CC842b60fA38A1F09f8Ad07f03b8EC6	GG
	0x5c146cd18fa53914580573c9b9604588529406ca	0x5bABBC6DD46A14d95d0e91FCE820f5bbb39760C0	C1337
	0x28aa4F9ffe21365473B64C161b566C3CdeAD0108	0x54e0703EbCB52F9bCc4A2e57D66a3297b2d28596	Fier
	0x848a9126ff57004aa8bfdc99384f36a4754d4367	0x1F8F006ac655c1E8d22Ebf888Dda985F07eE5a81	user003		12605203798448322022	v
	0x922731d7e2a193870f438abfc89f3c38df821190	0xF317E436bfF08ce952C2DAeE735D72233B8e292e	user004		0						o
	0x9c9553cd0c8673651a36e5e11c4989bb629d4067	0xc382E2878485Bb42C9abE86814567D8b39ab4DeF	user005		564458538959924052165	v


hello!
today we started taking delegations for vloxd votes to an EOA we control. it went smooth, we got delegated and voted on behalf of our deleators successfully. however, when we try to submit votes on behalf of our biggest delegator at the VotingSnapshot contract, it reverts.. somehow it allows us to use 2500e18 of their votes but not more than that..



*/


async function step1() {
	UPI = new ethers.Contract("0xda00bff59141ca6375c4ae488da7b387960b4f10",[{"inputs":[{"internalType":"address","name":"accountAddress","type":"address"}],"name":"setVoteDelegate","outputs":[],"stateMutability":"nonpayable","type":"function"}],signer);
	tx = await UPI.setVoteDelegate(GURUDAO)
	await tx.wait()
	basecheck()
}

async function step2() {
	alert("All delegators before Aug. 1 will be auto-registered!")
}


async function basecheck() {
	UP = new ethers.Contract("0xda00aad945d0d5f1b1b3fbb6e0ce3e36827a7bf5",[{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userProxyByAccount","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}],provider)
	VS = new ethers.Contract("0xda007a39a692b0fefe9c6cb1a185feab2722c4fd",[{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"voteDelegateByAccount","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"accountAddress","type":"address"}],"name":"voteWeightAvailableByAccount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"accountAddress","type":"address"}],"name":"voteWeightTotalByAccount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"voteWeightUsedByAccount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],provider)
	ad = await UP.userProxyByAccount(window.ethereum.selectedAddress)
	vd = VS.voteDelegateByAccount(ad)
	wa = VS.voteWeightAvailableByAccount(ad)
	wt = VS.voteWeightTotalByAccount(ad)
	wu = VS.voteWeightUsedByAccount(ad)

	Promise.all([vd,wa,wt,wu])
	.then(V=>{
		$("us").innerHTML = window.ethereum.selectedAddress;
		$("ua").innerHTML = ad;
		$("ud").innerHTML = V[0] == "0x0000000000000000000000000000000000000000" ? "Nobody" : V[0];
		$("ud").innerHTML = V[0] == GURUDAO ? "Guru Network" : V[0];
		if(V[0] == GURUDAO) {$("paneld").style.display = ""; $("panel").style.display = "none"; }
		else {$("paneld").style.display = "none"; $("panel").style.display = ""; }
		$("uu").innerHTML = Number(V[1])/1e18
		$("uw").innerHTML = Number(V[2])/1e18
		$("uv").innerHTML = Number(V[3])/1e18

	})
}

</script>